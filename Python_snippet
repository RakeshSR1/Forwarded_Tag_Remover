import math
import time

async def progress_bar(current, total, task_type, file_count, user_name, message):
    # Calculate percentage
    percent = (current / total) * 100
    percent_str = f"{percent:.1f}%"

    # Create a 10-block bar
    filled_blocks = math.floor(percent / 10)
    empty_blocks = 10 - filled_blocks
    bar = "â–“" * filled_blocks + "â–‘" * empty_blocks

    # Format bold text in Unicode
    text = (
        f"ğ“ğšğ¬ğ¤ ğ’ğ­ğšğ«ğ­ğğ\n\n"
        f"ğƒğ¨ğ°ğ§ğ¥ğ¨ğšğğ¢ğ§ğ  :- {bar} {percent_str}\n"
        f"ğ…ğ¢ğ§ğ¢ğ¬ğ¡ğğ :- {percent_str}\n"
        f"ğ…ğ¢ğ¥ğğ¬ :- {file_count}\n"
        f"ğğ² :- {user_name}"
    )

    # Edit the Telegram message with updated progress
    try:
        await message.edit_text(text)
    except Exception:
        pass

# Example usage inside a download function:
async def fake_download(message, user_name):
    total_size = 100
    file_count = 3
    for current_size in range(0, total_size + 1, 5):
        await progress_bar(current_size, total_size, "Downloading", file_count, user_name, message)
        time.sleep(0.5)  # simulate download delay
